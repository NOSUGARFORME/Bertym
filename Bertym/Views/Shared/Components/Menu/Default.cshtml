@using Bertym.DAL.Entities
@using Bertym.Models
@using Microsoft.AspNetCore.Identity
@model IEnumerable<MenuItem>
@inject UserManager<ApplicationUser> userManager;

<div class="navbar-nav">
    @foreach (var item in Model)
    {
        @if (item.RequiredAdminPrivileges && User.IsInRole("admin"))
        {
            @if (item.IsPage)
            {
                <a class="nav-item nav-link @item.Active"
                   asp-area="@item.Area"
                   asp-page="@item.Page">
                    @item.Text
                </a>
            }
            else
            {
                <a class="nav-item nav-link @item.Active"
                   asp-controller="@item.Controller"
                   asp-action="@item.Action">
                    @item.Text
                </a>
            }
        } 
        else if (!item.RequiredAdminPrivileges)
        {
            @if (item.IsPage)
            {
                <a class="nav-item nav-link @item.Active"
                   asp-area="@item.Area"
                   asp-page="@item.Page">
                    @item.Text
                </a>
            }
            else
            {
                <a class="nav-item nav-link @item.Active"
                   asp-controller="@item.Controller"
                   asp-action="@item.Action">
                    @item.Text
                </a>
            }
        }

    }
</div>
